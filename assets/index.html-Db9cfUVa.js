import{_ as p,c as t,a,b as h,d as n,w as e,r as c,o as d,e as l}from"./app-BVpc6fz1.js";const r={},k={class:"table-of-contents"};function o(A,s){const i=c("router-link");return d(),t("div",null,[a("nav",k,[a("ul",null,[a("li",null,[n(i,{to:"#简介"},{default:e(()=>s[0]||(s[0]=[l("简介")])),_:1})]),a("li",null,[n(i,{to:"#_1-常用加速器"},{default:e(()=>s[1]||(s[1]=[l("1. 常用加速器")])),_:1})]),a("li",null,[n(i,{to:"#_2-配置方法"},{default:e(()=>s[2]||(s[2]=[l("2. 配置方法")])),_:1}),a("ul",null,[a("li",null,[n(i,{to:"#_2-1-通过-daemon-json-配置-推荐"},{default:e(()=>s[3]||(s[3]=[l("2.1 通过 daemon.json 配置（推荐）")])),_:1})]),a("li",null,[n(i,{to:"#_2-2-通过-systemd-配置"},{default:e(()=>s[4]||(s[4]=[l("2.2 通过 systemd 配置")])),_:1})])])]),a("li",null,[n(i,{to:"#_3-验证配置"},{default:e(()=>s[5]||(s[5]=[l("3. 验证配置")])),_:1})]),a("li",null,[n(i,{to:"#_4-最佳实践"},{default:e(()=>s[6]||(s[6]=[l("4. 最佳实践")])),_:1})]),a("li",null,[n(i,{to:"#_5-常见问题"},{default:e(()=>s[7]||(s[7]=[l("5. 常见问题")])),_:1}),a("ul",null,[a("li",null,[n(i,{to:"#_5-1-配置不生效"},{default:e(()=>s[8]||(s[8]=[l("5.1 配置不生效")])),_:1})]),a("li",null,[n(i,{to:"#_5-2-下载速度仍然较慢"},{default:e(()=>s[9]||(s[9]=[l("5.2 下载速度仍然较慢")])),_:1})])])])])]),s[10]||(s[10]=h(`<hr><h2 id="简介" tabindex="-1"><a class="header-anchor" href="#简介"><span>简介</span></a></h2><p>Docker Hub 是 Docker 官方的公共镜像仓库，但由于网络原因，国内访问 Docker Hub 可能较慢。使用镜像加速器可以有效提升获取 Docker 镜像的速度。</p><h2 id="_1-常用加速器" tabindex="-1"><a class="header-anchor" href="#_1-常用加速器"><span>1. 常用加速器</span></a></h2><ul><li>阿里云加速器：<code>https://cr.console.aliyun.com/</code></li><li>腾讯云加速器：<code>https://cloud.tencent.com/document/product/457/9113</code></li><li>网易云加速器：<code>https://hub-mirror.c.163.com</code></li><li>百度云加速器：<code>https://mirror.baidubce.com</code></li></ul><h2 id="_2-配置方法" tabindex="-1"><a class="header-anchor" href="#_2-配置方法"><span>2. 配置方法</span></a></h2><h3 id="_2-1-通过-daemon-json-配置-推荐" tabindex="-1"><a class="header-anchor" href="#_2-1-通过-daemon-json-配置-推荐"><span>2.1 通过 daemon.json 配置（推荐）</span></a></h3><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">创建或编辑配置文件</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">mkdir</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-p</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">/etc/docker</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">vim</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">/etc/docker/daemon.json</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">添加以下内容</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">{</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;registry-mirrors&quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">:</span><span class="space"> </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">[</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;https://mirror.ccs.tencentyun.com&quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">,</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;https://registry.docker-cn.com&quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">,</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;https://hub-mirror.c.163.com&quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">,</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;https://mirror.baidubce.com&quot;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">]</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">重启</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">Docker</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">服务</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">systemctl</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">daemon-reload</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">systemctl</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">restart</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">docker</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-2-通过-systemd-配置" tabindex="-1"><a class="header-anchor" href="#_2-2-通过-systemd-配置"><span>2.2 通过 systemd 配置</span></a></h3><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">查找</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">docker.service</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">位置</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">find</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">/</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-name</span><span class="space"> </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">docker.service</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">复制配置文件（如果需要）</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">cp</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-n</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">/usr/lib/systemd/system/docker.service</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">/etc/systemd/system/docker.service</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">修改配置文件</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">vim</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">/etc/systemd/system/docker.service</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">在</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">ExecStart</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">行添加加速器地址</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">ExecStart</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">/usr/bin/dockerd</span><span class="space"> </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">--registry-mirror</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">https://</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&lt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">your-mirror-address</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">.mirror.aliyuncs.com</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">重启服务</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">systemctl</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">daemon-reload</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">systemctl</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">restart</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">docker</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3-验证配置" tabindex="-1"><a class="header-anchor" href="#_3-验证配置"><span>3. 验证配置</span></a></h2><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">查看加速器配置</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">docker</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">info</span><span class="space"> </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">|</span><span class="space"> </span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">grep</span><span class="space"> </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Registry</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Mirrors</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">测试下载速度</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">time</span><span class="space"> </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">docker</span><span class="space"> </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">pull</span><span class="space"> </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">nginx:latest</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_4-最佳实践" tabindex="-1"><a class="header-anchor" href="#_4-最佳实践"><span>4. 最佳实践</span></a></h2><ul><li>使用多个加速器地址，提供故障转移</li><li>选择就近的加速器节点</li><li>定期测试加速器性能</li><li>及时更新失效的加速器地址</li></ul><h2 id="_5-常见问题" tabindex="-1"><a class="header-anchor" href="#_5-常见问题"><span>5. 常见问题</span></a></h2><h3 id="_5-1-配置不生效" tabindex="-1"><a class="header-anchor" href="#_5-1-配置不生效"><span>5.1 配置不生效</span></a></h3><ul><li>检查 daemon.json 格式是否正确</li><li>确保重启了 Docker 服务</li><li>检查系统日志是否有错误信息</li></ul><h3 id="_5-2-下载速度仍然较慢" tabindex="-1"><a class="header-anchor" href="#_5-2-下载速度仍然较慢"><span>5.2 下载速度仍然较慢</span></a></h3><ul><li>尝试使用其他加速器地址</li><li>检查网络连接是否正常</li><li>考虑使用私有镜像仓库</li></ul><blockquote><p><strong>注意：</strong> 某些加速器可能需要注册账号才能获取专用地址</p></blockquote>`,20))])}const D=p(r,[["render",o],["__file","index.html.vue"]]),y=JSON.parse('{"path":"/linux/08pt6jrp/","title":"12. docker-hub加速器","lang":"zh-CN","frontmatter":{"createTime":"2025/02/17 16:59:04","permalink":"/linux/08pt6jrp/","title":"12. docker-hub加速器","description":"简介 Docker Hub 是 Docker 官方的公共镜像仓库，但由于网络原因，国内访问 Docker Hub 可能较慢。使用镜像加速器可以有效提升获取 Docker 镜像的速度。 1. 常用加速器 阿里云加速器：https://cr.console.aliyun.com/ 腾讯云加速器：https://cloud.tencent.com/docum...","head":[["meta",{"property":"og:url","content":"https://notes.moniter.top/linux/08pt6jrp/"}],["meta",{"property":"og:site_name","content":"Richie Lin"}],["meta",{"property":"og:title","content":"12. docker-hub加速器"}],["meta",{"property":"og:description","content":"简介 Docker Hub 是 Docker 官方的公共镜像仓库，但由于网络原因，国内访问 Docker Hub 可能较慢。使用镜像加速器可以有效提升获取 Docker 镜像的速度。 1. 常用加速器 阿里云加速器：https://cr.console.aliyun.com/ 腾讯云加速器：https://cloud.tencent.com/docum..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"12. docker-hub加速器\\",\\"image\\":[\\"\\"],\\"dateModified\\":null,\\"author\\":[]}"]]},"headers":[],"git":{},"autoDesc":true,"filePathRelative":"notes/linux/Kubernetes/Docker系列学习/Docker系列学习-12.设置docker-hub加速器地址.md"}');export{D as comp,y as data};
