import{_ as e,c as h,a,b as t,d as p,w as n,r as k,o as c,e as l}from"./app-BVpc6fz1.js";const d={},r={class:"table-of-contents"};function A(g,s){const i=k("router-link");return c(),h("div",null,[a("nav",r,[a("ul",null,[a("li",null,[p(i,{to:"#命令格式"},{default:n(()=>s[0]||(s[0]=[l("命令格式")])),_:1})]),a("li",null,[p(i,{to:"#iptables命令的管理控制选项"},{default:n(()=>s[1]||(s[1]=[l("iptables命令的管理控制选项")])),_:1})]),a("li",null,[p(i,{to:"#防火墙处理数据包的四种方式"},{default:n(()=>s[2]||(s[2]=[l("防火墙处理数据包的四种方式")])),_:1}),a("ul",null,[a("li",null,[p(i,{to:"#iptables防火墙规则的保存与恢复"},{default:n(()=>s[3]||(s[3]=[l("iptables防火墙规则的保存与恢复")])),_:1})])])]),a("li",null,[p(i,{to:"#删除input链的第一条规则"},{default:n(()=>s[4]||(s[4]=[l("删除INPUT链的第一条规则")])),_:1})]),a("li",null,[p(i,{to:"#iptables防火墙常用的策略"},{default:n(()=>s[5]||(s[5]=[l("iptables防火墙常用的策略")])),_:1}),a("ul",null,[a("li",null,[p(i,{to:"#常用的linux-iptables规则"},{default:n(()=>s[6]||(s[6]=[l("常用的linux iptables规则")])),_:1})])])])])]),s[7]||(s[7]=t(`<hr><h2 id="命令格式" tabindex="-1"><a class="header-anchor" href="#命令格式"><span>命令格式</span></a></h2><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">iptables</span><span class="space"> </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">[-t</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">表名]</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">命令选项</span><span class="space"> </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">[链名]</span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">[</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">条件匹配</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">[</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">-j</span><span class="space"> </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">目标动作或跳转</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>说明：</p><ul><li><strong>表名</strong> 链名用于指定iptables命令所操作的表和链</li><li><strong>命令选项</strong> 用于指定管理iptables规则的方式(插入，增加，删除，查看等等)</li><li><strong>条件匹配</strong> 用于指定对符合什么样条件的数据包进行处理</li><li><strong>目标动作或跳转</strong> 用于指定数据包的处理方式(比如允许通过，拒绝，丢弃，跳转(Jump)给其他链处理)</li></ul><h2 id="iptables命令的管理控制选项" tabindex="-1"><a class="header-anchor" href="#iptables命令的管理控制选项"><span>iptables命令的管理控制选项</span></a></h2><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>-A</span><span class="space"> </span><span>在指定链的末尾添加(append)一条新的规则</span></span>
<span class="line"><span>-D</span><span class="space"> </span><span>删除(delete)指定链中的某一条规则，可以按规则顺序和内容删除</span></span>
<span class="line"><span>-I</span><span class="space"> </span><span>在指定链中插入(insert)一条新的规则，默认在第一行添加</span></span>
<span class="line"><span>-R</span><span class="space"> </span><span>修改/替换(replace)指定链中的某一条规则，可以按规则序号和内容替换</span></span>
<span class="line"><span>-L</span><span class="space"> </span><span>列出(list)指定链中所有的规则进行查看</span></span>
<span class="line"><span>-E</span><span class="space"> </span><span>重新用户定义的链，不改变链本身</span></span>
<span class="line"><span>-F</span><span class="space"> </span><span>清空(flush)</span></span>
<span class="line"><span>-N</span><span class="space"> </span><span>新建(new-chain)一条用户自己定义的规则链</span></span>
<span class="line"><span>-X</span><span class="space"> </span><span>删除指定表中用户自定义的规则连(delete-chain)</span></span>
<span class="line"><span>-P</span><span class="space"> </span><span>设置制定链的默认策略(policy)\\</span></span>
<span class="line"><span>-Z</span><span class="space"> </span><span>将所有表的所有链的字节和数据包计数器清零</span></span>
<span class="line"><span>-n</span><span class="space"> </span><span>使用数字形式(numeric)显示输出结果</span></span>
<span class="line"><span>-v</span><span class="space"> </span><span>查看规则表详细信息(verbose)的信息</span></span>
<span class="line"><span>-V</span><span class="space"> </span><span>查看版本(version)</span></span>
<span class="line"><span>-h</span><span class="space"> </span><span>获取帮助(help)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="防火墙处理数据包的四种方式" tabindex="-1"><a class="header-anchor" href="#防火墙处理数据包的四种方式"><span>防火墙处理数据包的四种方式</span></a></h2><table><thead><tr><th>名称</th><th>方法，达到的目的</th></tr></thead><tbody><tr><td>ACCEPT</td><td>允许数据包通过</td></tr><tr><td>DROP</td><td>直接丢弃数据包，不给任何回应信息</td></tr><tr><td>REJECT</td><td>拒绝数据包通过，必要时会给数据发送端一个相应的信息</td></tr><tr><td>LOG</td><td>在/var/log/messages文件中记录日志信息，然后将书记包传递给下一条规则</td></tr></tbody></table><h3 id="iptables防火墙规则的保存与恢复" tabindex="-1"><a class="header-anchor" href="#iptables防火墙规则的保存与恢复"><span>iptables防火墙规则的保存与恢复</span></a></h3><p>iptables-save把规则保存到文件中，再由目录rc.d下的脚本(/etc/rc.d/init/iptables)自动装载<br> 使用命令<code>iptables-save</code>来保存规则，一般用</p><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">iptables-save</span><span class="space"> </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">/etc/sysconfig/iptables</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">生成保存规则的文件\`\`/etc/sysconfig/iptables\`\`</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>也可以用</p><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">service</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">iptables</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">save</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">它能把规则自动保存在/etc/sysconfig/iptables中</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>当计算机启动时，<code>rc.d</code>下的脚本将用命令<code>iptables-restore</code>调用这个文件，从而就自动恢复了规则。</p><h2 id="删除input链的第一条规则" tabindex="-1"><a class="header-anchor" href="#删除input链的第一条规则"><span>删除INPUT链的第一条规则</span></a></h2><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">iptables</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-D</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">INPUT</span><span class="space"> </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="iptables防火墙常用的策略" tabindex="-1"><a class="header-anchor" href="#iptables防火墙常用的策略"><span>iptables防火墙常用的策略</span></a></h2><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">1.拒绝-进入防火墙的所有ICMP协议的数据包</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">iptables</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-I</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">INPUT</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-p</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">icmp</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-j</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">REJECT</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">2.允许防火墙转发出ICMP协议以外的所有数据包</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">iptables</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-A</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">FORWARD</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-p</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">!</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">icmp</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-j</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">ACCEPT</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#！参数：“将条件去反”</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">3.拒绝转发来自192.168.1.10主机的数据，允许转发来自192.168.0.0/24网段的数据</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">iptables</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-A</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">FORWARD</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-s</span><span class="space"> </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">192.168.1.10</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-j</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">REJECT</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">iptables</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-A</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">FORWARD</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-s</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">192.168.0.0/24</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-j</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">ACCEPT</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#说明:要把拒绝的放在前面不然就不起作用了</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">4.丢弃从外网接口(eth1)进入防火墙本机的原地址为私网地址的数据包</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">iptables</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-A</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">INPUT</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-i</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">eth1</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-s</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">192.168.0.0/16</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-j</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">DROP</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">iptables</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-A</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">INPUT</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-i</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">eth1</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-s</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">172.16.0.0/12</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-j</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">DROP</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">iptables</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-A</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">INPUT</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-i</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">eth1</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-s</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">10.0.0.0/8</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-j</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">DROP</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">5.封堵网段(192.168.1.0/24),两小时后解封</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">iptables</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-I</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">INPUT</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-s</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">192.168.1.0/24</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-j</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">DROP</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">iptables</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-I</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">FORWARD</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-s</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">192.168.1.0/24</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-j</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">DROP</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">at</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">now</span><span class="space"> </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">2</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">hours</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">at</span><span class="space"> </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">iptables</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-D</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">INPUT</span><span class="space"> </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">1</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">at</span><span class="space"> </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">iptables</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-D</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">FORWARD</span><span class="space"> </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">1</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#说明：这个策略借助cron计划来完成</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">6.只允许管理员从202.13.0.0/16网段使用SSH远程登录防火墙主机</span><span class="space"> </span><span class="space"> </span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">iptables</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-A</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">INPUT</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-p</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">tcp</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">--dport</span><span class="space"> </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">22</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-s</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">202.13.0.0/16</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-j</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">ACCEPT</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">iptables</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-A</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">INPUT</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-p</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">tcp</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">--dport</span><span class="space"> </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">22</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-j</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">DROP</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#说明：这个用法比较适合对设备进行远程管理时使用，比如位于分公司的SQL服务器需要被总公司的管理员管理时。</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">7.允许本机开放从TCP端口20--1024提供那个的应用服务</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">iptabels</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-A</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">INPUT</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-p</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">tcp</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">--dport</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">20:1024</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-j</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">ACCEPT</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">iptables</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-A</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">OUTPUT</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-p</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">tcp</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">--sport</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">20:1024</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-j</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">ACCPET</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">8.允许转发来自192.168.0.0/24局域网段的DNS解析请求数据包</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">iptables</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-A</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">FORWARD</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-s</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">192.168.0.0/24</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-p</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">udp</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">--dport</span><span class="space"> </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">53</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-j</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">ACCEPT</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">iptables</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-A</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">FORWARD</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-d</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">192.168.0.0/24</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-p</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">udp</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">--sport</span><span class="space"> </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">53</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-j</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">ACCEPT</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">9</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">禁止其他主机ping防火墙主机，但是允许从防火墙上ping其他主机</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">iptables</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-I</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">INPUT</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-p</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">icmp</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">--icmp-type</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Echo-Request</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-j</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">DROP</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">iptables</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-I</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">INPUT</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-p</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">icmp</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">--icmp-type</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Echo-Reply</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-j</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">ACCEPT</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">iptables</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-I</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">INPUT</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-p</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">icmp</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">--icmp-type</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">destination-Unreachable</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-j</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">ACCEPT</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">10.禁止转发来自MAC地址为00:0C:29:27:55:3F的和主机的数据包</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">iptables</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-A</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">FORWARD</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-m</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">mac</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">--mac-source</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">00:0C:29:27:55:3F</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-j</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">DROP</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#说明:iptables中使用“-m”模块关键字形式调用显示匹配。这里用“-m</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">mac</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">--mac-source”来表示数据包的源MAC地址</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">11.允许防火墙本机开放TCP端口20、21、25、110以及被动模式FTP端口1250-1280</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">iptables</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-A</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">INOUT</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-p</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">tcp</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-m</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">multiport</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">--dport</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">20,21,25,110,1250:1280</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-j</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">ACCEPT</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#说明：这里用&quot;这里用</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">-m</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">multiport</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">--dport&quot;</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">来指定目的端口及范围</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">12.禁止转发源IP地址为192.168.1.20-192.168.1.99的TCP数据包</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">iptables</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-A</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">FORWARD</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-p</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">tcp</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-m</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">iprange</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">--src-range</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">192.168.1.20-192.168.1.99</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-j</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">DROP</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#说明：</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">此处用“-m</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">iprange</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">--src-range”指定IP范围</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">13.禁止转发与正常TCP连接无关的非-syn请求数据包</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">iptables</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-A</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">FORWARD</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-m</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">state</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">--state</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">NEW</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-p</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">tcp</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">!</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">--syn</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-j</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">DROP</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">说明：“-m</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">state”表示数据包的连接状态，“NEW”表示与任何连接无关的，新的嘛！</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">14.拒绝访问防火墙的新数据包，但允许响应连接或与已有连接相关的数据包</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">iptables</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-A</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">INPUT</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-p</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">tcp</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-m</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">state</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">--state</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">NEW</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-j</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">DROP</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">iptables</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-A</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">INPUT</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-p</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">tcp</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-m</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">state</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">--state</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">ESTABLISHED,RELATED</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-j</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">ACCEPT</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">说明：“ESTABLISHED”表示已经响应请求或者已经建立连接的数据包，“RELATED”表示与已建立的连接有相关性的，比如FTP数据连接等。</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">15.只开放本机的web服务(80)</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">/</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">FTP(20,21,20450-20480),放行外部主机发送服务器其他端口的应答数据包，将其他入站数据包均予以丢弃处理</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">iptables</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-I</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">INPUT</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-p</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">tcp</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-m</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">multiport</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">--dport</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">20,21,80</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-j</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">ACCEPT</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">iptables</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-I</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">INPUT</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-p</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">tcp</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-dport</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">20450:20480</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-j</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">ACCEPT</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">iptables</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-I</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">INPUT</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-p</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">tcp</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-m</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">state</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">--state</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">ESTABLISHED</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-j</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">ACCEPT</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">iptables</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-P</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">INPUT</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">DROP</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="常用的linux-iptables规则" tabindex="-1"><a class="header-anchor" href="#常用的linux-iptables规则"><span>常用的linux iptables规则</span></a></h3><h4 id="_1-删除所有现有规则" tabindex="-1"><a class="header-anchor" href="#_1-删除所有现有规则"><span>1.删除所有现有规则</span></a></h4><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">iptables</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-F</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="_2-设置默认的chain策略" tabindex="-1"><a class="header-anchor" href="#_2-设置默认的chain策略"><span>2.设置默认的chain策略</span></a></h4><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">iptables</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-P</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">INPUT</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">DROP</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">iptables</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-P</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">FORWARD</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">DROP</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">iptables</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-P</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">OUTPUT</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">DROP</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-阻止某个特定的ip地址" tabindex="-1"><a class="header-anchor" href="#_3-阻止某个特定的ip地址"><span>3.阻止某个特定的IP地址</span></a></h4><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">BLOCK_THIS_IP</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">x.x.x.x</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">iptables</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-A</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">INPUT</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-s</span><span class="space"> </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">$BLOCK_THIS_IP</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-j</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">DROP</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_4-允许全部进来的ssh" tabindex="-1"><a class="header-anchor" href="#_4-允许全部进来的ssh"><span>4.允许全部进来的SSH</span></a></h4><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">iptables</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-A</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">INPUT</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-i</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">eth0</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-p</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">tcp</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">--dport</span><span class="space"> </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">22</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-m</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">state</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">--state</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">NEW,ESTABLISHED</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-j</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">ACCEPT</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">iptables</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-A</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">OUTPUT</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-o</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">eth0</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-p</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">tcp</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">--dport</span><span class="space"> </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">22</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-m</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">state</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">--state</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">ESTABLISHED</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-j</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">ACCEPT</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_5-只允许某个特定网路进来的ssh" tabindex="-1"><a class="header-anchor" href="#_5-只允许某个特定网路进来的ssh"><span>5.只允许某个特定网路进来的SSH</span></a></h4><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">iptables</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-A</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">INPUT</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-i</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">eth0</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-p</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">tcp</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-s</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">192.168.200.0/24</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">--dport</span><span class="space"> </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">22</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-m</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">state</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">--state</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">NEW,ESTABLISHED</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-j</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">ACCEPT</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">iptables</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-A</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">OUTPUT</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-o</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">eth0</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-p</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">tcp</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">--dport</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">22m</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-m</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">state</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">--state</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">ESTABLISHED</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-j</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">APPECT</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_6-允许进来的http" tabindex="-1"><a class="header-anchor" href="#_6-允许进来的http"><span>6.允许进来的HTTP</span></a></h4><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">iptables</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-A</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">INPUT</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-i</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">eth0</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-p</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">tcp</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">--dport</span><span class="space"> </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">80</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-m</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">state</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">--state</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">NEW,ESTABLISHED</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-j</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">ACCEPT</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">iptables</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-A</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">OUTPUT</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-o</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">eth0</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-p</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">tcp</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">--dport</span><span class="space"> </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">80</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-m</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">state</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">--state</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">ESTABLISHED</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-j</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">ACCEPT</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_7-多端口-允许进来的ssh、http和https" tabindex="-1"><a class="header-anchor" href="#_7-多端口-允许进来的ssh、http和https"><span>7.多端口（允许进来的SSH、HTTP和HTTPS）</span></a></h4><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">iptables</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-A</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">INPUT</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-i</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">eth0</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-p</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">tcp</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-m</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">multiport</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">--dports</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">22,80,443</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-m</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">state</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">--state</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">NEW.ESTABLISHED</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-j</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">ACCEPT</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">iptables</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-A</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">OUTPUR</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-o</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">eth0</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-p</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">tcp</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-m</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">multiport</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">--dports</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">22,80,443</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-m</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">state</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">--state</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">ESTABLISHED</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-j</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">ACCEPT</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_8-允许出去的ssh" tabindex="-1"><a class="header-anchor" href="#_8-允许出去的ssh"><span>8.允许出去的SSH</span></a></h4><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">iptables</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-A</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">OUTPUT</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-o</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">eth0</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-p</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">tcp</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">--dport</span><span class="space"> </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">22</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-m</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">state</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">--state</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">NEW,ESTABLISHED</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-j</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">ACCEPT</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">iptables</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-A</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">INPUT</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-i</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">eth0</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-p</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">tcp</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">--sport</span><span class="space"> </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">22</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-m</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">state</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">--state</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">ESTABLISHED</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-j</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">ACCEPT</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div>`,36))])}const C=e(d,[["render",A],["__file","index.html.vue"]]),D=JSON.parse('{"path":"/linux/pxmnlycn/","title":"iptables 用法","lang":"zh-CN","frontmatter":{"createTime":"2025/02/17 16:59:04","permalink":"/linux/pxmnlycn/","title":"iptables 用法","description":"命令格式 说明： 表名 链名用于指定iptables命令所操作的表和链 命令选项 用于指定管理iptables规则的方式(插入，增加，删除，查看等等) 条件匹配 用于指定对符合什么样条件的数据包进行处理 目标动作或跳转 用于指定数据包的处理方式(比如允许通过，拒绝，丢弃，跳转(Jump)给其他链处理) iptables命令的管理控制选项 防火墙处理数据...","head":[["meta",{"property":"og:url","content":"https://notes.moniter.top/linux/pxmnlycn/"}],["meta",{"property":"og:site_name","content":"Richie Lin"}],["meta",{"property":"og:title","content":"iptables 用法"}],["meta",{"property":"og:description","content":"命令格式 说明： 表名 链名用于指定iptables命令所操作的表和链 命令选项 用于指定管理iptables规则的方式(插入，增加，删除，查看等等) 条件匹配 用于指定对符合什么样条件的数据包进行处理 目标动作或跳转 用于指定数据包的处理方式(比如允许通过，拒绝，丢弃，跳转(Jump)给其他链处理) iptables命令的管理控制选项 防火墙处理数据..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"iptables 用法\\",\\"image\\":[\\"\\"],\\"dateModified\\":null,\\"author\\":[]}"]]},"headers":[],"git":{},"autoDesc":true,"filePathRelative":"notes/linux/Iptable/IptablesFormater.md"}');export{C as comp,D as data};
